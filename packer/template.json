{
  "builders": [
    {
      "type": "googlecompute",
      "project_id": "pdl-advanced-sql",
      "machine_type": "n1-standard-1",
      "source_image_family": "ubuntu-1804-lts",
      "region": "us-east4",
      "zone": "us-east4-c",
      "image_description": "PDL-Advanced-SQL",
      "image_name": "pdl-advanced-sql",
      "disk_size": 50,
      "disk_type": "pd-ssd",
      "ssh_username": "root",
      "ssh_disable_agent_forwarding": false
    }
  ],
  "provisioners": [
    {
      "type": "shell",
      "inline": [
        "sleep 10",
        "uname -a",
        "uptime"
      ]
    },
    {
      "type": "shell",
      "inline": [
        "sudo apt update && sudo apt install -y git",
        "ssh-keyscan bitbucket.org >> ~/.ssh/known_hosts",
        "git clone git@bitbucket.org:LogstonEducation/pdl-advanced-sql-material-prep.git"
      ]
    },
    {
      "type": "shell",
      "script": "init.sh",
      "execute_command": "echo 'packer' | sudo -S sh -c ' '"
    }
  ]
}
